<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/4194463c7d.js" crossorigin="anonymous"></script>


    <title>Hello, world!</title>
</head>

<body>
    <div class="container">
        <div class="col-12 col-md-6 mx-auto">
            <div class="text">
                <div class="mb-3">
                    <button id="makenumber" class="btn btn-primary w-100 replay">產生數字</button>
                </div>
                <p id="msg" class="border border-dark p-2 mt-3 text-center"></p>
                <input type="text" class="w-100 text-center">
            </div>
            <div class="num">
                <div class="row g-2 mb-3">
                    <di class="col">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">1</button>
                    </di g-2v>
                    <di class="col">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">2</button>
                    </di g-2v>
                    <di class="col">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">3</button>
                    </di g-2v>
                </div>
                <div class="row g-2 mb-3">
                    <di class="col">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">4</button>
                    </di g-2v>
                    <di class="col">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">5</button>
                    </di g-2v>
                    <di class="col">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">6</button>
                    </di g-2v>
                </div>
                <div class="row g-2 mb-3">
                    <di class="col ">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">7</button>
                    </di g-2v>
                    <di class="col">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">8</button>
                    </di g-2v>
                    <di class="col">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">9</button>
                    </di g-2v>
                </div>
                <div class="row g-2 mb-3">
                    <di class="col">
                        <button type="button" class="btn btn-danger w-100" id="nbx">x</button>
                    </di g-2v>
                    <di class="col">
                        <button type="button" class="btn  btn-dark w-100 num-btn" id="nb">0</button>
                    </di g-2v>
                    <di class="col">
                        <button type="button" class="btn btn-success w-100 " id="nbv">v</button>
                    </di g-2v>
                </div>
            </div>
        </div>
    </div>
    <script>
        let btn_restart = document.querySelector('#makenumber')
        let p_msg = document.querySelector('#msg')
        let input_think = document.querySelector('input')

        let btns = document.querySelectorAll('#nb');
        let btn_clear = document.querySelector('#nbx')
        let btn_submit = document.querySelector('#nbv')

        let min, max, code

        window.onload = () => {
            btn_restart.onclick = restart
            btn_clear.onclick = clearInput

            btns.forEach(btn => {
                btn.onclick = () => {
                    input_think.value += btn.innerText
                    // input_think.value += e.target.innerText
                }
            })

            btn_submit.onclick = () => {
                submit()
            }
            btn_clear.onclick = () => {
                clearInput()
            }
            restart()
        }


        function submit() {
            let n = parseInt(input_think.value);

            // 防呆
            if (n < min || n > max) {
                alert('請猜範圍內數字')
                return;
            }

            // min ... code ... max
            //判斷
            if (n > code) {
                max = n
            }
            else if (n < code) {
                min = n
            }
            else {//猜中時}
                alert('對哦')
                restart();
                return;
            }
            showmsg()
            clearInput()
        }
        function restart() {
            // 重置範圍 產生亂密碼
            min = 0
            max = 100
            code = Math.floor(
                Math.random() * (max - min) + min)

            console.log(code)

            showmsg() //顯示範圍
            clearInput() //清空輸入框
        }
        function showmsg() {
            p_msg.innerHTML = `${min}~${max}`
        }

        function clearInput() {
            input_think.vlaue = "--"
        }

    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

</body>

</html>